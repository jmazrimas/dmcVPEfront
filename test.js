var userEditListener=function(e){updateGroupInputValue(e.currentTarget)},updateGroupInputValue=function(e){e=$(e);var t=returnGroupedInputs(e);e.find("[type='hidden']").val(t)},returnGroupedInputs=function(e){for(var t=e.find("input"),u=[],n=0;n<t.length;n++){var a={};if($(t[n]).hasClass("addedInput")||$(t[n]).hasClass("json_inputs")){if($(t[n]).hasClass("addedInputValue")){var i=$(t[n]).closest(".item").find(".addedInput")[0].value;a[i]=t[n].value,u.push(a)}}else inputName=t[n].id||$(t[n]).attr("input_tag"),a[inputName]=t[n].value,u.push(a)}return JSON.stringify(u)},inputTemplate,buildInputTemplate=function(e){var t=e.find(".title");e.find(".unit").remove(),e.find(".key").remove(),e.find(".help").remove(),e.find("input").attr("placeholder","Value of Input"),e.find("input").addClass("addedInput addedInputValue"),$('<input class="addedInput" placeholder="Name of Input">').insertAfter(t),t.remove(),inputTemplate=e},updateAllInputGroups=function(){$(".userEditGroup").each(function(e,t){updateGroupInputValue(t)})};$(document).ready(function(){$(".userEditGroup").click(userEditListener).keyup(userEditListener),$("#vpe").click(function(e){var t=$(e.target);if(t.hasClass("removeInput")){var u=e.target.closest("div.item");u.remove(),updateAllInputGroups()}}),$("button.addInput").click(function(e){inputTemplate.clone().insertAfter(e.target)}),buildInputTemplate($("#vpe").find(".item").first().clone())});